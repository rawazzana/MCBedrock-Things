{
	"namespace": "spmax_customnpcs_common",

	"student_button@common_buttons.light_text_button": {
		"$button_type_panel": "npc_interact.student_button_label_panel",
		"$pressed_button_name": "button.student_button",
		"bindings": [
			{
				"binding_type": "collection_details",
				"binding_collection_name": "student_buttons_collection",
				"binding_collection_prefix": "student_buttons"
			},
			{
				"binding_name": "#student_button_visible",
				"binding_type": "collection",
				"binding_name_override": "#visible",
				"binding_collection_name": "student_buttons_collection"
			}
		]
	},

	"close_button_holder": {
		"type": "panel",
		"size": [ "100%c", "100%c" ],
		"anchor_from": "top_right",
		"anchor_to": "bottom_right",
		"offset": [ 8, -3 ],
		"controls": [
			{
				"close_basic@npc_interact.x_close_button": {
					"$close_button_to_button_id": "button.exit_basic",
          			"$visibility_binding_name": "#basic_visible"
				}
			},
			{
				"close_advanced@npc_interact.x_close_button": {
					"$close_button_to_button_id": "button.exit_basic",
          			"$visibility_binding_name": "#advanced_visible"
				}
			},
			{
				"close_student_edit@npc_interact.ignorable_x_close_button": {
					"ignored": "(not $is_worldbuilder)",
					"$close_button_to_button_id": "button.exit_student_edit",
					"$visibility_binding_name": "#student_view_visible"
        		}
			},
			{
				"close_student@npc_interact.ignorable_x_close_button": {
					"ignored": "$is_worldbuilder",
					"$close_button_to_button_id": "button.exit_student",
					"$visibility_binding_name": "#student_view_visible"
    		    }
			},
			{
				"close_maximized_action_edit@npc_interact.close_button_base": {
					"$close_button_to_button_id": "button.exit_maximized",
					"$default_texture": "textures/ui/minimize",
					"$hover_texture": "textures/ui/minimizeHover",
					"$pressed_texture": "textures/ui/minimizePress",
					"$visibility_binding_name": "#maximized_edit_visible"
        		}
			}
		]
	},

	"fullscreen_divider_screen": {
		"type": "panel",
	    "controls": [
			{
				"top_header@common.fullscreen_header": {
					"$back_button_pressed_button_name": "button.exit_student",
					"$back_button_has_title": "($back_button_text > '')",
					"$button_text": "$back_button_text",
					"layer": 9
				}	
			},
      		{
				"selector_area": {
					"type": "panel",
    				"offset": [ "2px", "23px" ],
    				"size": [ "40% - 4px", "100% - 24px" ],
					"anchor_from": "top_left",
    				"anchor_to": "top_left",
					"controls": [
						{
							"scrolling_panel@common.scrolling_panel": {
								"$scrolling_content": "$selector_area_content",
								"$show_background": false,
								"$scroll_size": [ "5px", "100% - 4px" ],
								"$scroll_bar_left_padding_size": [ 2, 0 ]
							}
						}
					]
				}
			},
			{
				"section_divider": {
					"type": "image",
					"offset": [ "40%", "22px" ],
					"size": [ "4px", "100% - 22px" ],
					"layer": 10,
					"anchor_from": "top_left",
					"anchor_to": "top_left",
					"texture": "textures/ui/HowToPlayDivider"
				}
			},
      		{
				"content_area": {
					"type": "panel",
					"offset": [ "-2px", "23px" ],
					"size": [ "60% - 8px", "100% - 24px" ],
					"anchor_from": "top_right",
					"anchor_to": "top_right",
					"controls": [
						{
							"scrolling_panel@common.scrolling_panel": {
								"$scrolling_content": "$section_area_content",
								"$show_background": false,
								"$scroll_size": [ "5px", "100% - 4px" ],
								"$scroll_bar_left_padding_size": [ 2, 0 ]
							}
						}
					]
				}
			}
		]
	},

	//Screen type templates

	"vanilla_dialog@spmax_npc_vanilla_screen.main_screen": {
		"$trigger_npc_name|default": "NPC",
		"bindings": [
			{
				"binding_name": "#title_text",
				"binding_type": "global"
			},
			{
				"binding_type": "view",
				"source_property_name": "(#title_text = $trigger_npc_name)",
				"target_property_name": "#visible"
			}
		]
	},

	"bottom_action@spmax_npc_bottom_action.main_screen": {
		"$trigger_npc_name|default": "NPC_BottomAction",
		"bindings": [
			{
				"binding_name": "#title_text",
				"binding_type": "global"
			},
			{
				"binding_type": "view",
				"source_property_name": "(#title_text = $trigger_npc_name)",
				"target_property_name": "#visible"
			}
		]
	},

	"scroll_box@spmax_npc_scroll_box.main_screen": {
		"$trigger_npc_name|default": "NPC_ScrollBox",
		"bindings": [
			{
				"binding_name": "#title_text",
				"binding_type": "global"
			},
			{
				"binding_type": "view",
				"source_property_name": "(#title_text = $trigger_npc_name)",
				"target_property_name": "#visible"
			}
		]
	},

	"fullscreen_page@spmax_npc_fullscreen.main_screen": {
		"$trigger_npc_name|default": "NPC_FullScreen",
		"bindings": [
			{
				"binding_name": "#title_text",
				"binding_type": "global"
			},
			{
				"binding_type": "view",
				"source_property_name": "(#title_text = $trigger_npc_name)",
				"target_property_name": "#visible"
			}
		]
	}
}
